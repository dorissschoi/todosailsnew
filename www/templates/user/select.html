<span ng-init="searchText = ''">
	<a class="button icon-right ion-ios-arrow-down" ng-click="click()">
		{{selectedTitle()}}
	</a>
	
	<script id="fancy-select-model.html" type="text/ng-template">
	    <ion-view class="fancy-select-items modal">
	      <ion-header-bar class="bar-positive item-input-inset">
			<button ng-click="close()" class="button button-positive button-icon ion-ios-arrow-back"></button>
	        
	        <label class="item-input-wrapper">
				<i class="icon ion-search placeholder-icon"></i>
			    <input type="text" ng-model="searchText">
			</label>
	      </ion-header-bar>
	
	      <ion-content>
	        <div class="list">
	          <!-- Multi select -->
	          <ion-toggle
	                      ng-repeat="item in model.models | UserSearchFilter:searchText | orderBy:['name.given', 'name.middle', 'name.family', 'email']"
	                      ng-if="multiple"
	                      ng-model="item.selected"
	                      ng-change="select(item)"
	                      class="item item-text-wrap">
	            {{item[label]()}}
	          </ion-toggle>
	
	          <!-- Single select -->
	          <label
	                 ng-repeat="item in model.models"
	                 ng-if="!multiple"
	                 ng-click="select(item)"
	                 class="item item-text-wrap">
	            {{item[label()]}}
	          </label>
	        </div>
	        <ion-infinite-scroll ng-if="model.state.skip < model.state.count" on-infinite="loadMore()">
			</ion-infinite-scroll>
	      </ion-content>
	    </ion-view>
	</script>
</span>